<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xml:lang="de" xmlns="http://www.w3.org/1999/xhtml"  
> 
<head> <title>BCDWristWatch</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- html,xhtml --> 
<meta name="src" content="Story.tex" /> 
<link rel="stylesheet" type="text/css" href="Story.css" /> 
</head><body 
>
   <div class="maketitle">
                                                                                            
                                                                                            
                                                                                            
                                                                                            

<h2 class="titleHead">BCDWristWatch</h2>
<div class="author" ><span 
class="ec-lmr-12x-x-120">SulKith</span></div><br />
<div class="date" ></div>   </div>
<div class="center" 
>
<!--l. 25--><p class="noindent" >
</p><!--l. 26--><p class="noindent" ><img 
src="../Pictures/AnalogClock.jpg" alt="pict"  
 width="483.69687pt.5"  /></p></div>
<!--l. 28--><p class="noindent" >
                                                                                            
                                                                                            
</p>
   <h3 class="likesectionHead"><a 
 id="x1-1000"></a>Summary</h3>
<!--l. 30--><p class="noindent" >It all started with the idea of a PCB which could display the time in BCD code and is small
enough to wear it on the wrist. Sadly i was not able to find a Housing which could be used
for the Clock, so i created one myself in OpenSCAD and 3D-printed it. After a while
i got tired to explain the BCD code to everybody, so there is also a Analogish Version
available.
</p><!--l. 33--><p class="indent" >   The Software for both Versions is unified and just differentiated by the Linker. So there is no
change to the Code needed.
</p><!--l. 35--><p class="indent" >   After some problems with sweat entering the Housing and destroying the electronics, i tried
several possible solutions (read more in the story). <br 
class="newline" /><br 
class="newline" />The alternative try to solve the sweat issue was to remove the buttons completely and replace them
with a G-Force sensor. As sensor the Bosch BMA456 is used, since it features various
interrupt functionalities to wakeup the microcontroller and only draws a few microamps in
standby.
</p><!--l. 40--><p class="indent" >   The powerful Sensor also made some other cool features for a wrist watch. There is a Wrist Tilt
detection to activate the Watchface once the user rises the arm and takes a look on the
watch. Now the watch can also be turned on while only using one hand e.g. while carrying
stuff.
</p><!--l. 43--><p class="indent" >   Another cool new feature is a stepcounter, so the watch is also a (not completely sweat resistant
;-) ) fitness tracker.
</p><!--l. 45--><p class="indent" >   The next evolution step is switching to a new more powerful controller. For this the
STM32L432K Controller was chosen. This controller also features a calender in the built in
RTC.
                                                                                            
                                                                                            
</p>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-20001"></a>Binary Watch</h3>
<!--l. 3--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-30001.1"></a>PCB</h4>
<!--l. 4--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.1.1   </span> <a 
 id="x1-40001.1.1"></a>First PCB Version</h5>
<!--l. 5--><p class="noindent" >The First PCB Version was a desaster. The PCBs arrived very fast, but the QFN Package had the
wrong size. ATMEL only produces QFN32 in 7x7mm. Therefore the design of the PCB hat to be
changed to the smaller package, but that gave me the Chance to shrink the Design to a smaller form
factor. The part which keeps the PCB from getting smaller is the Coin Cell Battery (CR2032). On the
PCBs there was the order number printed on the Front side, which would be visble in the final
assembly.
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.1.2   </span> <a 
 id="x1-50001.1.2"></a>Second PCB Version</h5>
<!--l. 12--><p class="noindent" >The second PCB Version was designed from scratch. But the Front was the side with the Battery, so
hopefully the Order Number would not be printed on the visible side of the PCB. This worked out
very well for the second Version of the PCBs.
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.1.3   </span> <a 
 id="x1-60001.1.3"></a>PCB1</h5>
<!--l. 15--><p class="noindent" >since the PCBs finally arrived. it was possible to assemble all the parts. The first PCB was assembled
with some Cables soldered to the Testpins on the Backside of the Board. And the Battery case
was also not assembled. Here is a Picture of the uncleaned but already soldered PCB
</p>
<div class="center" 
>
<!--l. 19--><p class="noindent" >
</p><!--l. 20--><p class="noindent" ><img 
src="../Pictures/PCB1_F1.jpg" alt="pict"  
 width="241.84843pt.5"  /></p></div>
<!--l. 23--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.1.4   </span> <a 
 id="x1-70001.1.4"></a>PCB2</h5>
<!--l. 24--><p class="noindent" >The PCB2 was assembled and cleaned as a First Prototype with the Housing.&#x00A0;Here aretwo Pictures of
the PCB one without the LEDs turned on and one with the LEDs turned on.&#x00A0;Brightness
was set in the Program to 100/255 (see software void showLEDs, constant perc=100)
</p>
                                                                                            
                                                                                            
<div class="center" 
>
<!--l. 27--><p class="noindent" >
</p><!--l. 28--><p class="noindent" ><img 
src="../Pictures/PCB2_F1_off.jpg" alt="pict"  
 width="217.66211pt.5"  /> <img 
src="../Pictures/PCB2_F1_on.jpg" alt="pict"  
 width="217.66211pt.5"  />
</p>
</div>
<!--l. 32--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.1.5   </span> <a 
 id="x1-80001.1.5"></a>PCB3</h5>
<!--l. 33--><p class="noindent" >The third PCB was ordered at <a 
href="https://aisler.net" >aisler.net</a>. It only took around one and a half week to
arrive(to Germany).&#x00A0;The PCB was not completely milled out. It was in a carrier PCB
with rectangular shape, but it was easy to remove.&#x00A0;I had to sand the edges a bit, since
it was a bit rough on the parts where i removed the connections to the carrier, since i
had to sand the PCB anyway to fit in the Housing that was no big problem.&#x00A0;The overall
Quality of the PCBs is very good, but you can not choose the thicknes or color of the
PCB.&#x00A0;</p>
<div class="center" 
>
<!--l. 37--><p class="noindent" >
</p><!--l. 38--><p class="noindent" ><img 
src="../Pictures/PCB3.jpg" alt="pict"  
 width="241.84843pt.5"  /></p></div>
<!--l. 41--><p class="indent" >
                                                                                            
                                                                                            
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-90001.2"></a>Housing</h4>
<!--l. 44--><p class="noindent" >The Housing was designed in OpenSCAD.&#x00A0;a very helpfull reference for the OpenSCAD syntax
was&#x00A0;<a 
href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Transformations" class="url" ><span 
class="ec-lmtt-12">https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Transformations</span></a>
</p><!--l. 48--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.2.1   </span> <a 
 id="x1-100001.2.1"></a>Housing 1</h5>
<!--l. 49--><p class="noindent" >The Housing was printed by the TOOM Printing Service as SLS in PLA.&#x00A0;Sadly all the surfaces are
not really smooth, therefore the Buttons are working very bad.&#x00A0;I tried to glue in the glass with
superglue, but the glue dried out white, this looks really bad :-(&#x00A0;
</p><!--l. 53--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.2.2   </span> <a 
 id="x1-110001.2.2"></a>Plans for Housing 2</h5>
<!--l. 54--><p class="noindent" >The next housing should be produced via SLA with transparent Resin, so no glass for Protection is
needed, since the resin could be used.
</p>
<!--l. 56--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-120001.2.2"></a><span 
class="ec-lmbx-12">Problems while printing with SLA</span></span>
   It turns out, that there is no completely transparent Resin available. All of them get a yellow color
sooner or later. So it is not really beautiful as a glass.
</p><!--l. 60--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.2.3   </span> <a 
 id="x1-130001.2.3"></a>Housing 2</h5>
<!--l. 61--><p class="noindent" >A friend told me that most of the time the resin will not reflect light equally in every spot, therefore i
decided to order a PCB without glass and do the mounting of the glass with very tight tolerances and
a rim on the top edge.&#x00A0;this worked out extremely well.&#x00A0;Another goal was to make the second Housing
slim, because the first one was very bulky. With a bit of optimization is was possible to integrate the
bottom plate completely in the housing. The overall thicknes was reduced from about 15mm to
9.4mm with the 1mm PCB or 10mm with the new 1.6mm PCB.&#x00A0;For the PCB to tightly fit in
either the Housing has to get some aditional holes or at least the Battery clip has to be
modified.&#x00A0;</p>
<div class="center" 
>
<!--l. 65--><p class="noindent" >
</p><!--l. 66--><p class="noindent" ><img 
src="../Pictures/Housing2.jpg" alt="pict"  
 width="217.66211pt.5"  /> <img 
src="../Pictures/Housing3b.jpg" alt="pict"  
 width="217.66211pt.5"  /></p></div>
<!--l. 69--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.3   </span> <a 
 id="x1-140001.3"></a>Problems</h4>
                                                                                            
                                                                                            
<!--l. 70--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.3.1   </span> <a 
 id="x1-150001.3.1"></a>Sweat is entering the Housing</h5>
<!--l. 71--><p class="noindent" >The first watch broke down after nearly 1 year. After opening the Housing the Problem was very
obvious. Sweat was entering the Housing and corroded the PCB and the mounted parts.
</p>
<div class="center" 
>
<!--l. 72--><p class="noindent" >
</p><!--l. 73--><p class="noindent" ><img 
src="../Pictures/ProbCorr1.jpg" alt="pict"  
 width="241.84843pt.5"  /></p></div>
<!--l. 75--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-160001.3.1"></a><span 
class="ec-lmbx-12">Cleaning the PCB and adding something to absorb the moisture</span></span>
   As a solution i tried to clean the PCB with Isopropanol and glued some rice to the PCB to absorb
the moisture, that helped only for about a week and the Watch stopped working again. So that is not
the best solution, but is is an extraordinary try ;-) </p>
<div class="center" 
>
<!--l. 77--><p class="noindent" >
</p><!--l. 78--><p class="noindent" ><img 
src="../Pictures/ProbCorrSol1.jpg" alt="pict"  
 width="241.84843pt.5"  /></p></div>
<!--l. 80--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-170001.3.1"></a><span 
class="ec-lmbx-12">adding isolation Tape between the lid and the housing</span></span>
   The second solution was to add Tape, which is originally designed to be used to seal threads,
between the housing and the lid.&#x00A0;That worked out a little bit better, but the Watch also stopped
working after a few weeks.
</p>
<!--l. 83--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-180001.3.1"></a><span 
class="ec-lmbx-12">Analyzing the Watch again</span></span>
   After analyzing it again the PCB seemd to be ok. The PCB was only a little damaged from the
first sweat attack. The Problem was that the time stopped to run, but another point was that the
LEDs wont go off anymore. But it was possible to set the time. So the conclusion is that the clock
which is run by the crystal stopped running.
</p>
<!--l. 88--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-190001.3.1"></a><span 
class="ec-lmbx-12">Adding clear Nailpolish to guard the Crystal</span></span>
   The next attempted solution was to add clear Nailpolish to the PCB, so the crystal is completely
covered. This is an attempt to stop moisture from crawling below the crystal and stopping the
clock.
</p><!--l. 91--><p class="indent" >   Adding Nailpolish was also not the real solution. The Clock also stopped to work after a few
weeks.
</p>
<!--l. 93--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-200001.3.1"></a><span 
class="ec-lmbx-12">commercial products to insulate PCBs</span></span>
   The next attempt will be to use a commercial Product to insulate the PCB. For this i will try
<a 
href="https://www.reichelt.de/korrosionsschutzlack-plastik-70-super-400-ml-isolierlack-kontakt-32046-p125737.html" >Plastik 70 Super</a> from Kontakchemie.
                                                                                            
                                                                                            
</p><!--l. 98--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">1.4   </span> <a 
 id="x1-210001.4"></a>Manual</h4>
<!--l. 99--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.4.1   </span> <a 
 id="x1-220001.4.1"></a>How to read the Watch</h5>
<!--l. 100--><p class="noindent" >The time is displayed in BCD Code. For further reference please see the Picture below:
</p>
<div class="center" 
>
<!--l. 101--><p class="noindent" >
</p><!--l. 102--><p class="noindent" ><img 
src="drawings/BinDia1359.png" alt="pict"  
 width="241.84843pt"  /> </p></div>
<!--l. 105--><p class="noindent" >There are Two Buttons on the Watch: </p>
      <ul class="itemize1">
      <li class="itemize">BL: left Button
      </li>
      <li class="itemize">BR: right Button</li></ul>
<!--l. 110--><p class="noindent" >To read the Watch it is necessary to activate the Display via one of the Buttons
</p><!--l. 112--><p class="indent" >   The LEDs are read columnwise. So the right two columns are showing the Minutes. If an LED is
litone have to add its Value to the Minutes if not then nothing is added. So for the full hour no led in
the right two columns will be lit.
</p><!--l. 114--><p class="indent" >   In the Example above the following LEDs are lit: M40, M10, M08 and M01. The sum of all the
values is the current minute value <span 
class="rm-lmr-12">40 + 10 + 8 + 1 = 59</span>
</p><!--l. 117--><p class="indent" >   The Hours are displayed exactly like the Minutes. For the hours the 24 Hour Format is used. In
the Example above the following LEDs are lit: H10, H01, H02. The current Hour Value is also
determined by summing everythin up: <span 
class="rm-lmr-12">10 + 1 + 2 = 13</span>.
</p><!--l. 119--><p class="indent" >   So the current Time in the example is 13:59. If it is 0:00 the watch will display 24:00 to make sure
0:00 is not confused with a broken watch.
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">1.4.2   </span> <a 
 id="x1-230001.4.2"></a>set the time</h5>
<!--l. 121--><p class="noindent" >To set the time first of all the display has to be activated, afterwards both buttons have to be released
(to make sure that the setup mode is not accessed accidently). Now both buttons have to be pressed.
Now the LED H80 lights up, to signalize that now it is in set hour mode. Now Both buttons can be
released again.
</p><!--l. 123--><p class="indent" >   To switch to the set minute mode the right button has to be pressed. In set minute mode the right
button switches back to the normal mode.
</p><!--l. 125--><p class="indent" >   With the right button the value which is set currently can be incremented. The hour will not be
incremented wen incrementing the minutes from 59 to 0.
</p><!--l. 128--><p class="indent" >   Both setup modes will timeout if no button is pressed for 30 seconds. While the watch is in setup
mode the clock will be stopped, after returning to normal mode the seconds will start from 0 so it is
easy to set the time precisely.
</p><!--l. 1--><p class="indent" >
                                                                                            
                                                                                            
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-240002"></a>Analog Watch</h3>
<!--l. 3--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">2.1   </span> <a 
 id="x1-250002.1"></a>PCB</h4>
<!--l. 4--><p class="noindent" >After the PCBs for the BCD Version were working, i also created an analog Version, so i dont have to
explain the Clock everytime ;-)
</p><!--l. 6--><p class="indent" >   The Analog Watch features the same Schematics for the basic clock functionality, but the display
is done via Charlieplexing the LEDs. There are 4 Clustes with 4 Pins which drive all the 42 LEDs. 12
LEDs on the inner ring are displaying the hours. On the outer ring 30 LEDs display the Minutes.
Since it was not possible to fit 60 LEDs on the outer ring, uneven numbers are shown while lighting
up the two neighbouring LEDs. </p>
<div class="center" 
>
<!--l. 7--><p class="noindent" >
</p><!--l. 8--><p class="noindent" ><img 
src="../Pictures/AnalogPCB.jpg" alt="pict"  
 width="241.84843pt.5"  /></p></div>
<!--l. 10--><p class="noindent" >
                                                                                            
                                                                                            
</p>
   <h4 class="subsectionHead"><span class="titlemark">2.2   </span> <a 
 id="x1-260002.2"></a>Housing</h4>
<!--l. 13--><p class="noindent" >The PCB for the analog Version is designed with the same mechanical Interface as the Binary Version
therefore the Housing from the Binary Version can be used.
</p><!--l. 15--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">2.3   </span> <a 
 id="x1-270002.3"></a>first Watch which i gave away</h4>
<!--l. 16--><p class="noindent" >The first Watch i gave away was one of the analog PCB ones i built for my dads birthday. for this
Watch i replaced all the resistors for the LEDs with Zero <span 
class="rm-lmr-12">&#x03A9; </span>resistors, so the LEDs got more bright
and are clearly readable also in the sunlight. </p>
<div class="center" 
>
<!--l. 18--><p class="noindent" >
</p><!--l. 19--><p class="noindent" ><img 
src="../Pictures/AnalogWatch1.jpg" alt="pict"  
 width="338.58632pt.5"  /></p></div>
<!--l. 1--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-280003"></a>BinaryGWatch</h3>
<!--l. 2--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.1   </span> <a 
 id="x1-290003.1"></a>PCB</h4>
<!--l. 3--><p class="noindent" >The PCB is based on the Binary Watch. Even the Buttons would still work if soldered on the board.
Additionally to the original Schematics there is a Bosch BMA456 connected to the SPI, which is
already on the back of the PCB to enable programming via Pogo Pins. Additionally there is also the
Chip select pin used and two interrupt pins to enable the wakeup functionality via the BMA
sensor.
</p><!--l. 5--><p class="indent" >   The SPI interface was chosen, to keep thepower consumption low, since SPI compared to I2C
doesn&#8217;t need PullUp Resistors.
</p><!--l. 7--><p class="indent" >   The BMA Sensor is mounted on the back of the PCB to keep the symetric watch face.
</p><!--l. 9--><p class="indent" >   The concept is to use the BMA Sensor also as interface. To enable the Display and also to set the
time. So no buttons will be needed this should also enable a housing without holes to
keep sweat from crawling into and solve the corroded PCB problems I had with the first
BinaryWatch
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a 
 id="x1-300003.2"></a>Software</h4>
<!--l. 11--><p class="noindent" >For interfacing with the BMA i use my own <a 
href="https://github.com/sulkith/Bosch_BMA456" >Bosch_BMA456</a> with an additional SPI-adapter.
</p><!--l. 13--><p class="indent" >   The Software still has the ability to work with Buttons, but since the BMA is working
really well there is no point in using th buttons. and risking that sweat will enter the
housing.
                                                                                            
                                                                                            
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.3   </span> <a 
 id="x1-310003.3"></a>Housing</h4>
<!--l. 15--><p class="noindent" >Adapting the housing was very easy, just remove the holes for the buttons. A little smoothing was
done afterwards, because there were some thickened walls around the holes, where the Buttons were
mounted.
</p>
   <h4 class="subsectionHead"><span class="titlemark">3.4   </span> <a 
 id="x1-320003.4"></a>Manual</h4>
<!--l. 18--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.4.1   </span> <a 
 id="x1-330003.4.1"></a>How to read the Watch</h5>
<!--l. 19--><p class="noindent" >The time is displayed in BCD Code. For further reference please see the Picture below:
</p>
<div class="center" 
>
<!--l. 20--><p class="noindent" >
</p><!--l. 21--><p class="noindent" ><img 
src="drawings/BinDia1359.png" alt="pict"  
 width="241.84843pt"  /> </p></div>
<!--l. 24--><p class="noindent" >To read the Watch it is necessary to activate the Display this can be either done via double tapping the
Housing or raising the arm to take a look on the watch(tilt it by a minimum of 12 degrees with the
Watchface facing up and holding it steady for about one second)
</p><!--l. 26--><p class="indent" >   The LEDs are read columnwise. So the right two columns are showing the Minutes. If an LED is
litone have to add its Value to the Minutes if not then nothing is added. So for the full hour no led in
the right two columns will be lit.
</p><!--l. 28--><p class="indent" >   In the Example above the following LEDs are lit: M40, M10, M08 and M01. The sum of all the
values is the current minute value <span 
class="rm-lmr-12">40 + 10 + 8 + 1 = 59</span>
</p><!--l. 31--><p class="indent" >   The Hours are displayed exactly like the Minutes. For the hours the 24 Hour Format is used. In
the Example above the following LEDs are lit: H10, H01, H02. The current Hour Value is also
determined by summing everythin up: <span 
class="rm-lmr-12">10 + 1 + 2 = 13</span>.
</p><!--l. 33--><p class="indent" >   So the current Time in the example is 13:59. If it is 0:00 the watch will display 24:00 to make sure
0:00 is not confused with a broken watch.
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.4.2   </span> <a 
 id="x1-340003.4.2"></a>read the Stepcounter</h5>
<!--l. 35--><p class="noindent" >To switch between time display and stepcounter display one needs to double tap the watch. In the
stepcounter mode the value is displayed differently. the first column from the left is used to signalize
that the stepcounter is shown, it will always display 3(H20 &amp; H10) in this mode, because this would
be an unplausible time. the two middle columns are used to display the two most significant numbers
of the stepcounter. The most right column is used to display a exponent on the base of
10.
</p>
<!--l. 36--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-350003.4.2"></a><span 
class="ec-lmbx-12">Example</span></span>
                                                                                            
                                                                                            
</p>
   <div class="tabular"> <table id="TBL-2" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1" /></colgroup><colgroup id="TBL-2-2g"><col 
id="TBL-2-2" /></colgroup><colgroup id="TBL-2-3g"><col 
id="TBL-2-3" /></colgroup><colgroup id="TBL-2-4g"><col 
id="TBL-2-4" /></colgroup><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-1"  
class="td11">0</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-2"  
class="td11">0</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-3"  
class="td11">0</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-4"  
class="td11">0</td></tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-1"  
class="td11"> 0 </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-2"  
class="td11">1</td> <td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-3"  
class="td11">1</td> <td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-4"  
class="td11">0</td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-1"  
class="td11"> 1</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-2"  
class="td11">0</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-3"  
class="td11">0</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-4"  
class="td11">1</td></tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-1"  
class="td11"> 1 </td> <td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-2"  
class="td11">1</td> <td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-3"  
class="td11">0</td> <td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-4"  
class="td11">0</td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-1"  
class="td11">  </td> </tr></table></div><br 
class="newline" /><br 
class="newline" />so the following LEDs are lit:
      <ul class="itemize1">
      <li class="itemize">H10, H20 <span 
class="lmsy-10x-x-120">&#x21D2; </span>3 signalizes stepcounter mode
      </li>
      <li class="itemize">H01, H04 <span 
class="lmsy-10x-x-120">&#x21D2; </span>5
      </li>
      <li class="itemize">M40 <span 
class="lmsy-10x-x-120">&#x21D2; </span>4
      </li>
      <li class="itemize">M02 <span 
class="lmsy-10x-x-120">&#x21D2; </span>2</li></ul>
<!--l. 58--><p class="noindent" ><span 
class="rm-lmr-12">54 </span><span 
class="lmsy-10x-x-120">&#x22C5; </span><span 
class="rm-lmr-12">10</span><sup><span 
class="rm-lmr-8">2</span></sup> <span 
class="rm-lmr-12">= 5400</span>
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">3.4.3   </span> <a 
 id="x1-360003.4.3"></a>set the time</h5>
<!--l. 60--><p class="noindent" >To set the time first of all the display has to be activated, afterwards the watchface needs to be
turned down and double tapping the Housing. If the First step was succesful the two LEDs H80 and
M80 will light up together. To enter the set hour mode the watchface needs to be turned up again and
the watch needs to be double tapped again.
</p><!--l. 63--><p class="indent" >   Now the LED M80 will be turned off.
</p><!--l. 65--><p class="indent" >   To change the Value the watch needs to be tilted up to increase the value or tilted down to
decrease the value, to switch to set minute mode the watch needs to be double tapped again.
Changing the minutes works exactly like changing hours. To finish the setup process double tap the
cloak again. Now the second counter will also start with zero, so it is possible to set the time
precisely.
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-370004"></a>Switching to an ARM Controller</h3>
<!--l. 2--><p class="noindent" >The obvious next evolution step would be to include the BMA Sensor into the analog Version. But
since the ATMega328P has a lot of reserved pins there are not enough usable pins to
supply the BMA and the 42 LEDs (only one Pin was missing). So there were a few possible
solutions
</p>
   <h4 class="subsectionHead"><span class="titlemark">4.1   </span> <a 
 id="x1-380004.1"></a>AVR Controller in a bigger Package</h4>
<!--l. 4--><p class="noindent" >Regarding the Software this would be the easiest Varaint to go with. But there are a few
disadvantages of the AVR Controller. </p>
      <ul class="itemize1">
      <li class="itemize">a larger Package requires more PCB Space
                                                                                            
                                                                                            
      </li>
      <li class="itemize">it requires 6 Pins for ISP programming
      </li>
      <li class="itemize">it has a bigger power consumption than modern Controllers
      </li>
      <li class="itemize">modern Controllers are faster
      </li>
      <li class="itemize">it is an old Controller ;-)
      </li>
      <li class="itemize">there is no technical challenge</li></ul>
<!--l. 14--><p class="noindent" >So this was not the final solution.
</p>
   <h4 class="subsectionHead"><span class="titlemark">4.2   </span> <a 
 id="x1-390004.2"></a>Atmel SAM</h4>
<!--l. 16--><p class="noindent" >I started with the Atmel SAM Controller, because I liked the experience with Atmel Controllers so
far. For a comparison of Microcontrollers there is a great article from Jay Carlson
<a 
href="https://jaycarlson.net/microcontrollers/" class="url" ><span 
class="ec-lmtt-12">https://jaycarlson.net/microcontrollers/</span></a>. The advantage of the Atmel SAM Controllers are
there are a lot of open source Tools which could also be used out of a makefile, so the
projectsrtucture is very easy to create. All the Configuration and the Bootupsequence is generated
by the Atmel Start utility. <a 
href="https://start.atmel.com/" class="url" ><span 
class="ec-lmtt-12">https://start.atmel.com/</span></a>. The feature i liked the most is
the SERCOM Interface.A SERCOM interface could be used for various serial Interfaces
(UART, I2C, SPI...), the biggest advantage is that all thepins could be multiplexed with each
other.
</p><!--l. 18--><p class="indent" >   Therefore i created a Evaluationboard i could start playing around with:
<a 
href="https://github.com/sulkith/devboards/tree/master/ATSAML22G18A_LowPowerArm" class="url" ><span 
class="ec-lmtt-12">https://github.com/sulkith/devboards/tree/master/ATSAML22G18A_LowPowerArm</span></a>
</p><!--l. 21--><p class="indent" >   Once the Board arived i encountered the first problem. The files generated by the Atmel Start
utility are licensed under the ASF license. And since i&#8217;m no lawyer, i couldn&#8217;t really decide if it is safe
to use these files in an open-source project like this one. So i decided to build a wrapper, which would
unpack the Package generated by the Atmel Start utility and include the files in my project Structure
(<a 
href="https://github.com/sulkith/devboards/blob/master/ATSAML22G18A_LowPowerArm/Software/AtmelStart/AtmelStartIntegrate/importAtzip.sh" class="url" ><span 
class="ec-lmtt-12">https://github.com/sulkith/devboards/blob/master/ATSAML22G18A_LowPowerArm/Software/AtmelStart/AtmelStartIntegrate/importAtzip.sh</span></a>).
But as soon as you need to change some code in the Startup or in the drivers the whole process is not
working anymore.
</p><!--l. 23--><p class="indent" >   But since in the early stages one has to change a lot of settings in the configurator and include it
back in my code. So the whole Workflow is some kind of clumpsy. And i got a bit sick of changing a
Setting and taking one or two minutes to change a single option. So i was looking for a solution where
the whole process is smoother.
</p><!--l. 25--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">4.3   </span> <a 
 id="x1-400004.3"></a>STM32</h4>
<!--l. 26--><p class="noindent" >So a few colleques suggested to go for a STM32 Controller because the STMCubeIDE is very smooth
and all configurations are done inside the IDE.Afterwards the Code is directly generated. A big
plus point was that in the copiright notice it is explicitely stated, that you are allowed to
redistribute the software if you mention the original source(this is automatically done
                                                                                            
                                                                                            
in the header of every file). So using it for an open source project doesn&#8217;t seem to be a
problem.
</p><!--l. 28--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">4.3.1   </span> <a 
 id="x1-410004.3.1"></a>STM32L053R8</h5>
<!--l. 29--><p class="noindent" >To start with the ecosystem i went for a Nucleo-L053R8 development board with a lowpower Cortex
M0+. It took me about half an hour to get the I2C running. So the IDE is great and easy to use. The
Controller used on the Board is featuring a on-chip RTC which is also running in all Low-Power
modes including Standby mode. So all the Timekeeping wor the wrist watch could be done completely
by the chip. There is also a RTC-Clibration feature, which could be used to syncronize the deviation
of the Crystal with a high precision frequency source. Sadly the STM32L053R8 Controller is not
available in a QFN32 Package.
</p><!--l. 32--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">4.3.2   </span> <a 
 id="x1-420004.3.2"></a>STM32L432K</h5>
<!--l. 33--><p class="noindent" >While searching for a replacement for the STM32L053R8 i came across the STM32L432K Controller,
with a Cortex M4 Core, which is also featuring a Shutdown mode with only about 400 nA with the
RTC running. So the Watch will consume very low power. A Wakeup is also possible by the Wakeup
pin, which could be connected to the BMA Controller to wake up the Controller on wrist tilt or
double-tap. There are enough pins for using the Wakeup Pin, SPI, SWD-Debugging and
supplying all 42 LED for the analog version. So from the Hardware point of view everything is
fine.
</p>
<!--l. 36--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-430004.3.2"></a><span 
class="ec-lmbx-12">Binary PCB</span></span>
   Sinc the ST QFN Package looks like a big black box i also placed the BMA456 sensor, which also
looks like a black box right next to it for a more PCB like look. </p>
<div class="center" 
>
<!--l. 38--><p class="noindent" >
</p><!--l. 39--><p class="noindent" ><img 
src="../Schematics_STM/Watch.png" alt="pict"  
 width="217.66211pt"  /></p></div>
<!--l. 41--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-440004.3.2"></a><span 
class="ec-lmbx-12">The Boot Pin</span></span>
   When the first PCBs arrived it was very easy to get them working, but when the Debugger
was not connected sometimes the controller wasn&#8217;t booting correctly and was displaying
strage things on the LED. When connecting to the controller without a reset one could
identify the courrent all stack. And the address was in the section of the ST Bootloader.
So the obvious suspect was the Boot Pin, the pin was floating in the initial PCB design
and this is a bad Idea. In the first Prototype this was fixed by connecting it directly to
the neighbouring ground pin. For the next version there will be a resistor pulling it to
ground.
</p><!--l. 44--><p class="indent" >   Since the Watch was working now it was time to get the crystal calibration working. But
since the controller only has a 32 Pin Package the Calibration Pin is not available in the
footprint.
                                                                                            
                                                                                            
</p>
<!--l. 46--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-450004.3.2"></a><span 
class="ec-lmbx-12">Calibration</span></span>
   A Workaround for the missing calibration feature was to use the Timer in frequency counter mode
with the LSE clock(External Crystal) connected to the Clock pin. So the Input timervalue will be
saved on each Signal edge, after two edges the difference could be calculated. For an input
Frequency of 1Hz the difference has to be exactly 32768. To increase the accuracy was the
presacaler was set to the maximum value of 8. So the value has to be exactly 8*32768.
To further increase the accuracy the whole process will be repeated 20 Times and then
the average deviation will be calculated. From this deviation the correction value per 1
ppm could be calculated. But after the calibration procedure the Watch was still not very
acurate.
</p>
<!--l. 49--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-460004.3.2"></a><span 
class="ec-lmbx-12">Load Capacitance</span></span>
   While searching for the source of the Clock Deviattion i came across the Application Note 2867
<a 
href="https://www.st.com/resource/en/application_note/cd00221665-oscillator-design-guide-for-stm8af-al-s-stm32-mcus-and-mpus-stmicroelectronics.pdf" class="url" ><span 
class="ec-lmtt-12">https://www.st.com/resource/en/application_note/cd00221665-oscillator-design-guide-for-stm8af-al-s-stm32-mcus-and-mpus-stmicroelectronics.pdf</span></a>
Which describes the Design guidelines for oscillators used in combination with STM32 controllers.
The crystal used in the Clock is the Abracon ABS05W-32.768 kHz-D. The AN2867 recommends 4pF
Load Capacitors for this setup. Till now i used 10pF Capacitors, this could als explain the heavy
correction which was needed for the AtMega328P.
</p><!--l. 53--><p class="indent" >   So i did a few single measurements to measure the difference of the Changes done. The
measurements were done with the same Controller on the same PCB, once with a Battery Supply
(2.8V) and once with Power Supply from the Nucleo Board (3,3V), The second change was the
Change of the Capacitors from 10pF to 3,9pF (i couldn&#8217;t get exactly 4pF on the 0603 Package). The
Results could be found in the Table below.
</p>
   <div class="tabular"> <table id="TBL-3" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1" /></colgroup><colgroup id="TBL-3-2g"><col 
id="TBL-3-2" /></colgroup><colgroup id="TBL-3-3g"><col 
id="TBL-3-3" /></colgroup><colgroup id="TBL-3-4g"><col 
id="TBL-3-4" /></colgroup><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-1"  
class="td11">Supply Voltage [V]</td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-2"  
class="td11">Load Capacitance [pF]</td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-3"  
class="td11">Frequency [Hz]</td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-4"  
class="td11">Deviation [ppm]</td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-1"  
class="td11">2,8                      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-2"  
class="td11">10                           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-3"  
class="td11">32549            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-4"  
class="td11">-209                </td>
</tr><tr 
class="cline"><td></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-1"  
class="td11">                </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-2"  
class="td11">3,9                          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-3"  
class="td11">32850            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-4"  
class="td11">92                  </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-1"  
class="td11">3,3                      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-2"  
class="td11">10                           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-3"  
class="td11">32548            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-4"  
class="td11">-210                </td>
</tr><tr 
class="cline"><td></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-1"  
class="td11">                </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-2"  
class="td11">3,9                          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-3"  
class="td11">32857            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-4"  
class="td11">99                  </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-8-1"  
class="td11">                </td> </tr></table></div>
<!--l. 66--><p class="indent" >   So we can conclude that a larger Capacitance slows the oscillator down. The correction needed for
the clock was now smaller, but the deviation was still there.
</p>
<!--l. 68--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-470004.3.2"></a><span 
class="ec-lmbx-12">CubeIDE Initialization</span></span>
   After another few tests i found out there is a relation between Wakeups and the Deviation of the
Clock. So the original Proble was every time the Controller is initialized the code generated by the
CubeIDE will initialize the whole Clock System. To initialize the driver strength of the LSE Clock the
clock has to be stopped, and syncronized again. This Process will delay the RTC Time by about 0,5
seconds.
                                                                                            
                                                                                            
</p><!--l. 71--><p class="indent" >   Therefore i needed to adapt the initialization for the Controller. The function, which was causing
the Problems is the <span class="obeylines-h"><span class="verb"><span 
class="ec-lmtt-12">SystemClock_Config()</span></span></span>, if there is a LSE configured it would be initialized. So
the obvoius solution would be to disable the LSE. But if the LSE is disabled the RTC would
need a Clock, so the RTC was also disabled. The big Problem is if the RTC is disabled
in the configuration the HAL Driver would not be included in the project. So i copied
the initialization Function from the code generated without the RTC and renamed it to
<span class="obeylines-h"><span class="verb"><span 
class="ec-lmtt-12">SystemClock_Config_without_LSE()</span></span></span> in the Project configuration i disabled the function call to the
original <span class="obeylines-h"><span class="verb"><span 
class="ec-lmtt-12">SystemClock_Config()</span></span></span> and called the <span class="obeylines-h"><span class="verb"><span 
class="ec-lmtt-12">SystemClock_Config_without_LSE()</span></span></span> in the
usermain instead. Also the RTC initialization had to be rewritten to only initialize the RTC if the
LSE is not running. For this task the Function <span class="obeylines-h"><span class="verb"><span 
class="ec-lmtt-12">STM32L4_HAL::HAL_driverInit()</span></span></span> was
introduced. This Function checks if a RTC clock source is set. The clock source is set in
the <span class="obeylines-h"><span class="verb"><span 
class="ec-lmtt-12">RCC_BDCR</span></span></span> register, which resides in the backupdomain of the STM and therefore is
not cleared by a reset. So the initialization will be only done once when the Battery is
inserted.
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-480005"></a>STM Version Manual</h3>
<!--l. 2--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">5.1   </span> <a 
 id="x1-490005.1"></a>Read the time</h4>
<div class="center" 
>
<!--l. 3--><p class="noindent" >
</p><!--l. 4--><p class="noindent" ><img 
src="../Graphics/Time3_15.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 6--><p class="noindent" >To read the Watch it is necessary to activate the Display this can be either done via double tapping the
Housing or raising the arm to take a look on the watch(tilt it by a minimum of 12 degrees with the
Watchface facing up and holding it steady for about one second)
</p>
<!--l. 8--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-500005.1"></a><span 
class="ec-lmbx-12">Analog</span></span>
   The analog Version an be read equally to a normal Watch. In the inner Ring the Hours from 1 to
12 are displayed. In the outer Ring the minutes are displayed from 0 to 59, since there are only 30
LEDs in the outer ring for uneven minutes the nearest two LEDs are lit up. For example for 3:15 the
LEDs signalling 14 and 16 are lit up.
</p>
<!--l. 15--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-510005.1"></a><span 
class="ec-lmbx-12">Binary</span></span>
   in the Binary Version the LEDs are read columnwise as BCD code starting with 1 at the bottom.
So the right two columns are showing the Minutes. If an LED is litone have to add its Value to the
Minutes if not then nothing is added. So for the full hour no led in the right two columns will be lit.
In the example above in the first column no LED is lit. In the second column the LED for 1 and 2 are
lit. In the third column the LED for 1 is lit and in the last column the LED for 1 and 4 are lit. So it is
                                                                                            
                                                                                            
3:15.
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">5.1.1   </span> <a 
 id="x1-520005.1.1"></a>setting the Time</h5>
<!--l. 20--><p class="noindent" >To enter the Time setting mode you have to turn the Watch in show time mode upside down,
Watchface facing the ground an double Tap it. The Watch enters debouncing mode. In debouncing
mode the Hours 80 and Minutes 80 are blinking for the binary version for the Analog
Version Hours 12 and 6 are blinking. (Blinking leds are displayed brighter in the graphic.
</p>
<div class="center" 
>
<!--l. 22--><p class="noindent" >
</p><!--l. 23--><p class="noindent" ><img 
src="../Graphics/Time3_15_debouncing.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 25--><p class="noindent" >While in debouncing mode turn the watch around again (Watchface facing up) and double Tap it again
to enter Set Hour mode. </p>
<div class="center" 
>
<!--l. 26--><p class="noindent" >
</p><!--l. 27--><p class="noindent" ><img 
src="../Graphics/Time3_15_SetHour.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 29--><p class="noindent" >In the set hour mode the hour can be increased by leaning the Watch away from you and decreased by
leaning the watch towards you. Once the hour is set correctly double Tap the Watch again to enter
Set Minute Mode. </p>
<div class="center" 
>
<!--l. 31--><p class="noindent" >
</p><!--l. 32--><p class="noindent" ><img 
src="../Graphics/Time3_15_SetMinute.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 34--><p class="noindent" >The Set hour mode works exactly like to set hour mode. Increasing and decreasing is done via leaning the
Watch fowrward an backward. Once finished a double Tap sets the Seconds to 0 and starts the Watch
again.
</p>
   <h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a 
 id="x1-530005.2"></a>Read the Date</h4>
<div class="center" 
>
<!--l. 36--><p class="noindent" >
</p><!--l. 37--><p class="noindent" ><img 
src="../Graphics/Date25_Dez.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 39--><p class="noindent" >To enter the Date display mode tilt the Watch in Time Mode to the Front(Facing away from you) at
least 10 degrees and double Tap it.
</p>
<!--l. 40--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-540005.2"></a><span 
class="ec-lmbx-12">Analog</span></span>
   On the analog Version The Minutes 40 and 50 are lit up to signal Date Display. On the Hours
Ring the Month is displayed as Hour and the Day is Displayed as Minutes.
                                                                                            
                                                                                            
</p>
<!--l. 44--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-550005.2"></a><span 
class="ec-lmbx-12">Binary</span></span>
   On the binary Version the first column is showing 3 to signal Date Display. In the second and
third column the Day is displayed as BCD Code and the Month is displayed in binary code(it does
not stop on 9)<br 
class="newline" /><br 
class="newline" />A double Tap with the watch facing up switches back to show time mode.
</p><!--l. 50--><p class="noindent" >
</p>
   <h5 class="subsubsectionHead"><span class="titlemark">5.2.1   </span> <a 
 id="x1-560005.2.1"></a>setting the Date</h5>
<!--l. 51--><p class="noindent" >To enter the Date setting mode you have to turn the Watch in show date mode upside down,
Watchface facing the ground an double Tap it. The Watch enters debouncing mode. In
debouncing mode the Hours 8 and Minutes 80 are blinking for the binary version for the Analog
Version Minutes 40 and 50 are blinking. (Blinking leds are displayed brighter in the graphic.
</p>
<div class="center" 
>
<!--l. 53--><p class="noindent" >
</p><!--l. 54--><p class="noindent" ><img 
src="../Graphics/Date25_Dez_debouncing.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 56--><p class="noindent" >While in debouncing mode turn the watch around again (Watchface facing up) and double Tap it again
to enter set day mode. </p>
<div class="center" 
>
<!--l. 57--><p class="noindent" >
</p><!--l. 58--><p class="noindent" ><img 
src="../Graphics/Date25_Dez_SetDay.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 60--><p class="noindent" >Setting the Day works exactly like setting the hour. Increasing and decreasing is done via leaning the
Watch fowrward an backward. Once finished a double Tap switches to set month mode.
</p>
<div class="center" 
>
<!--l. 61--><p class="noindent" >
</p><!--l. 62--><p class="noindent" ><img 
src="../Graphics/Date25_Dez_SetMonth.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 64--><p class="noindent" >Setting the Month works exactly like setting the hour. Increasing and decreasing is done via leaning the
Watch fowrward an backward. Once finished a double Tap switches to set year mode.
</p>
<div class="center" 
>
<!--l. 65--><p class="noindent" >
</p><!--l. 66--><p class="noindent" ><img 
src="../Graphics/Date25_Dez_SetYear21.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 68--><p class="noindent" >The year is only used for the leap year calculation and can be only set between 0 and 99.
                                                                                            
                                                                                            
</p>
<!--l. 69--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-570005.2.1"></a><span 
class="ec-lmbx-12">Analog</span></span>
   In the Analog Version the Set year mode is signalized by blinking both minute LEDs 30 and 50.
The Year tens are shown in the inner ring with one LED per Counter and the ones are shown in the
outer ring with one LED per counter. In this example XX21.
</p>
<!--l. 71--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-580005.2.1"></a><span 
class="ec-lmbx-12">Binary</span></span>
   Setting Year mode is displayed by showing 3 in the first column and blinking all LEDs in the
second column. The year is displayed in columns 3 and 4. In this example XX21.<br 
class="newline" /><br 
class="newline" />Setting the Month works exactly like setting the hour. Increasing and decreasing is done via leaning
the Watch fowrward an backward. Once finished a double Tap sets the Seconds to 0 and starts the
Watch again.
</p>
   <h4 class="subsectionHead"><span class="titlemark">5.3   </span> <a 
 id="x1-590005.3"></a>Todays Steps</h4>
<div class="center" 
>
<!--l. 76--><p class="noindent" >
</p><!--l. 77--><p class="noindent" ><img 
src="../Graphics/ShowSteps32768.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 79--><p class="noindent" >To enter Step display mode tilt the Watch in Time Mode to the Back(Facing you) at least 10 degrees and
double Tap it.
</p>
<!--l. 80--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-600005.3"></a><span 
class="ec-lmbx-12">Analog</span></span>
   On the Analog Watch the hour LED 11 is lit up with the overflow counter (from 0(12 o&#8217;clock) to
3. The overflow counter counts the number of whole rounds on the Stepcounter. An overflow occurs
on 15000. The current Stepcounter without overflow is displayed in the outer Ring. Each LED
signalizes 500 Steps. The value is rounded to 500. In the Example the overflow counter shows 2 and
the counter itself shows 6. <span 
class="rm-lmr-12">2 </span><span 
class="lmsy-10x-x-120">* </span><span 
class="rm-lmr-12">15000 + 6 </span><span 
class="lmsy-10x-x-120">* </span><span 
class="rm-lmr-12">500 = 33000</span>
</p>
<!--l. 84--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-610005.3"></a><span 
class="ec-lmbx-12">Binary</span></span>
   On the binary Watch the Step Counter is signalized by the forst column showing 7. Column 2 to 4
shows the steps in 100 counts rounded to 100 counts. So 32768 in the exmample will be shown as
(7)328<br 
class="newline" /><br 
class="newline" />A double Tap with the watch facing up switches back to show time mode.
</p><!--l. 89--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">5.4   </span> <a 
 id="x1-620005.4"></a>Show steps history</h4>
<!--l. 90--><p class="noindent" >To enter the steps history mode you have to turn the Watch in show steps mode upside down,
Watchface facing the ground an double Tap it. </p>
                                                                                            
                                                                                            
<div class="center" 
>
<!--l. 91--><p class="noindent" >
</p><!--l. 92--><p class="noindent" ><img 
src="../Graphics/ShowStepsHist_2Days_ago_7500.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 94--><p class="noindent" >The history counter can be increased and decreased by leaning the watch back and forth.
</p>
<!--l. 95--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-630005.4"></a><span 
class="ec-lmbx-12">Analog</span></span>
   The steps history mode looks like the Show steps mode, but there is an additional LEDas Hitory
Counter lit up. The History counter starts at Hour 4 and increases depending on how
far ago the Date is. In the Example Hour 5 is shown, so the history is from 2 days ago.
The steps are show as in the Show Steps mode, so there were 7500 Steps done two days
ago.
</p>
<!--l. 97--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-640005.4"></a><span 
class="ec-lmbx-12">Binary</span></span>
   The steps hitory mode is signalized by the H80 LED. The LEDs below show how long ago the
Steps were counted, the counter starts yesterday with 0. so the example shows the Data from 2 Days
ago. The steps are displayed as in the show steps mode. so the example shows 7500 Steps 2 days
ago.<br 
class="newline" /><br 
class="newline" />to leave this mode double tap changes to the show Battery Voltage.
</p>
   <h4 class="subsectionHead"><span class="titlemark">5.5   </span> <a 
 id="x1-650005.5"></a>show battery voltage</h4>
<!--l. 102--><p class="noindent" >To enter the steps history mode you have to double tap the Watch in show steps history mode.
</p>
<div class="center" 
>
<!--l. 103--><p class="noindent" >
</p><!--l. 104--><p class="noindent" ><img 
src="../Graphics/ShowUBatt_2950mV.svg" alt="PIC"  
width="290" height="290"  /></p></div>
<!--l. 106--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-660005.5"></a><span 
class="ec-lmbx-12">Analog</span></span>
   The show battery voltage is signalized by the Hour 11 and 12 lighting up together. The voltage is
shown on the minutes ring, scaled from 3.5V to 1,5V, so each quarter is 0,5V. The Watch in the
example is showing 2,95V.
</p>
<!--l. 109--><p class="noindent" ><span class="paragraphHead"><a 
 id="x1-670005.5"></a><span 
class="ec-lmbx-12">Binary</span></span>
   The show battery voltage is signalized by the Hour 40 LED. Column 2 to 4 are showing the
Battery voltage in 10mV granularity. So the Example shows <span 
class="rm-lmr-12">2950</span><span 
class="lmmi-12">mV </span><span 
class="rm-lmr-12">= 2</span><span 
class="lmmi-12">, </span><span 
class="rm-lmr-12">95</span><span 
class="lmmi-12">V </span><br 
class="newline" /><br 
class="newline" />A double Tap with the watch facing up switches back to show steps mode.
</p>
    
</body></html> 

                                                                                            


